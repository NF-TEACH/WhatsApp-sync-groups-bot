# WhatsApp Group Sync Bot

בוט לסנכרון הודעות בין קבוצת WhatsApp מקור לקבוצות יעד מרובות באמצעות ספריית Baileys.

## תכונות

- ✅ סנכרון הודעות טקסט
- ✅ סנכרון תמונות עם כיתובים
- ✅ סנכרון קבצים (כולל APK)
- ✅ סנכרון קבצי וידאו עם כיתובים
- ✅ סנכרון קבצי אודיו
- ✅ זיהוי ומחיקת הודעות שנמחקו
- ✅ זיהוי ועריכת הודעות שנערכו
- ✅ דיליי אקראי בין 10-30 שניות לכל העברה

## התקנה

1. התקנת תלויות:
```bash
npm install
```

2. יצירת קובץ קונפיגורציה `groups_config.json`:
```json
{
  "triggerGroupId": "קוד_קבוצת_המקור@g.us",
  "targetGroupIds": [
    "קוד_קבוצת_יעד_1@g.us",
    "קוד_קבוצת_יעד_2@g.us"
  ]
}
```

## הפעלה

### הפעלה רגילה:
```bash
npm start
```

### הפעלה עם מעקב שינויים (פיתוח):
```bash
npm run dev
```

## הוראות ראשוניות

1. בהפעלה הראשונה, הבוט יציג QR Code בטרמינל
2. סרוק את הקוד עם WhatsApp Web
3. לאחר החיבור, הבוט יתחיל לפעול אוטומטית
4. הבוט יאזין לקבוצת המקור ויעתיק הודעות לקבוצות היעד

## קבלת מזהי קבוצות

לקבלת מזהי קבוצות, אתה יכול להשתמש בקוד זה:

```javascript
// הוסף את הקוד הזה לפונקציית החיבור
sock.ev.on('messages.upsert', async (m) => {
    const message = m.messages[0];
    if (message.key.remoteJid?.includes('@g.us')) {
        console.log('Group ID:', message.key.remoteJid);
    }
});
```

## מבנה קבצים

```
├── index.js              # קובץ הבוט הראשי
├── package.json          # תלויות הפרויקט
├── groups_config.json    # קונפיגורציה של קבוצות
├── auth_info_baileys/    # תיקיית אימות (נוצרת אוטומטית)
└── README.md            # קובץ הוראות זה
```

## אבטחה

- הבוט מוודא שהוא לא מעתיק הודעות שהוא שלח בעצמו (למניעת לולאות)
- כל הודעה מעובדת רק פעם אחת
- הבוט שומר מיפוי של הודעות לצורך מחיקה ועריכה

## פתרון בעיות

### הבוט לא מתחבר:
- ודא שסרקת את ה-QR Code
- בדוק חיבור לאינטרנט
- נסה להפעיל מחדש

### הודעות לא מועתקות:
- ודא שמזהי הקבוצות בקובץ הקונפיגורציה נכונים
- ודא שהבוט חבר לכל הקבוצות הרלוונטיות
- בדוק את הלוגים בטרמינל לשגיאות

### מחיקה/עריכה לא עובדות:
- תכונות אלו תלויות ב-API של WhatsApp ועלולות להתעדכן
- ודא שהבוט פועל רציף מרגע קבלת ההודעה המקורית

## הערות חשובות

- הבוט דורש חיבור יציב לאינטרנט
- מומלץ להפעיל על שרת או מחשב שפועל 24/7
- ה-QR Code צריך להיסרק רק בפעם הראשונה
- הבוט יתחבר מחדש אוטומטית במקרה של ניתוק